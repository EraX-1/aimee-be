# AWS デモ環境コスト試算

## 📊 シンプルコスト表

### gemma3:4b / 12b 用インスタンス: g5.4xlarge

**スペック**:
- GPU: NVIDIA A10G 24GB VRAM
- vCPU: 16コア
- メモリ: 64GB RAM

| 期間 | コスト (USD) | コスト (JPY) |
|------|-------------|-------------|
| **1時間** | $1.62 | **¥243** |
| **1日 (24時間)** | $39 | **¥5,832** |
| **3日** | $117 | **¥17,496** |
| **1週間** | $273 | **¥40,824** |
| **1ヶ月** | $1,186 | **¥177,900** |

※ 1ドル = 150円で計算
※ 東京リージョン (ap-northeast-1)

---

### gemma3:27b 用インスタンス: g5.8xlarge

**スペック**:
- GPU: NVIDIA A10G 24GB VRAM
- vCPU: 32コア
- メモリ: 128GB RAM

| 期間 | コスト (USD) | コスト (JPY) |
|------|-------------|-------------|
| **1時間** | $2.45 | **¥367** |
| **1日 (24時間)** | $59 | **¥8,808** |
| **3日** | $176 | **¥26,424** |
| **1週間** | $412 | **¥61,656** |
| **1ヶ月** | $1,789 | **¥268,350** |

※ 1ドル = 150円で計算
※ 東京リージョン (ap-northeast-1)

---

## 🎯 デモ利用シナリオ別コスト

### シナリオ1: 短期デモ (3日間)

| モデル | インスタンス | 3日間コスト |
|--------|------------|-----------|
| gemma3:4b | g5.4xlarge | **¥17,496** |
| gemma3:12b | g5.4xlarge | **¥17,496** |
| gemma3:27b | g5.8xlarge | **¥26,424** |

---

### シナリオ2: 1週間デモ

| モデル | インスタンス | 1週間コスト |
|--------|------------|-----------|
| gemma3:4b | g5.4xlarge | **¥40,824** |
| gemma3:12b | g5.4xlarge | **¥40,824** |
| gemma3:27b | g5.8xlarge | **¥61,656** |

---

### シナリオ3: 1ヶ月トライアル

| モデル | インスタンス | 1ヶ月コスト |
|--------|------------|-----------|
| gemma3:4b | g5.4xlarge | **¥177,900** |
| gemma3:12b | g5.4xlarge | **¥177,900** |
| gemma3:27b | g5.8xlarge | **¥268,350** |

---

## 💡 コスト削減Tips

### 営業時間のみ稼働 (9-18時、平日のみ)

**稼働時間**: 約45時間/週

| モデル | 通常1週間 | 営業時間のみ | 削減額 |
|--------|----------|------------|--------|
| gemma3:4b/12b | ¥40,824 | **¥10,935** | ¥29,889 |
| gemma3:27b | ¥61,656 | **¥16,515** | ¥45,141 |

### スポットインスタンス利用 (約50-70%割引)

| モデル | 通常1日 | スポット1日 | 削減額 |
|--------|--------|-----------|--------|
| gemma3:4b/12b | ¥5,832 | **¥1,750-2,916** | ¥2,916-4,082 |
| gemma3:27b | ¥8,808 | **¥2,642-4,404** | ¥4,404-6,166 |

※ スポットインスタンスは需要により中断される可能性あり

---

## 📌 推奨デモ構成

### 標準デモ環境: gemma3:4b (g5.4xlarge)

```
【1時間】 ¥243
【1日】   ¥5,832
【3日】   ¥17,496
【1週間】 ¥40,824
```

**用途**:
- 顧客デモ
- 機能検証
- 精度確認

### 高精度デモ環境: gemma3:27b (g5.8xlarge)

```
【1時間】 ¥367
【1日】   ¥8,808
【3日】   ¥26,424
【1週間】 ¥61,656
```

**用途**:
- 高精度が必要なデモ
- 重要顧客向けプレゼン
- 最終精度確認

---

## ⚡ クイックスタート

### 起動～停止の流れ

```bash
# 1. インスタンス起動 (5分)
aws ec2 start-instances --instance-ids i-xxxxx

# 2. デモ実施 (数時間～数日)
# → この間だけ課金される

# 3. インスタンス停止 (1分)
aws ec2 stop-instances --instance-ids i-xxxxx
# → 停止中は課金なし (ストレージ代のみ)
```

**ポイント**: 使わない時は必ず停止すればコスト最小化

---

## 💰 実質コスト例

### 例1: 3日間の顧客デモ (営業時間のみ稼働)

- デモ時間: 9-18時 × 3日 = 27時間
- インスタンス: g5.4xlarge (gemma3:4b)
- **実質コスト**: 27時間 × ¥243 = **¥6,561**

### 例2: 1週間のトライアル環境 (24時間稼働)

- 稼働時間: 7日 × 24時間 = 168時間
- インスタンス: g5.4xlarge (gemma3:12b)
- **実質コスト**: 168時間 × ¥243 = **¥40,824**

### 例3: 重要顧客向け精度デモ (半日)

- デモ時間: 4時間
- インスタンス: g5.8xlarge (gemma3:27b)
- **実質コスト**: 4時間 × ¥367 = **¥1,468**

---

## まとめ

| モデル | 1時間 | 1日 | 1週間 | 用途 |
|--------|------|-----|-------|------|
| **gemma3:4b** | **¥243** | **¥5,832** | **¥40,824** | 標準デモ |
| **gemma3:12b** | **¥243** | **¥5,832** | **¥40,824** | バランス重視 |
| **gemma3:27b** | **¥367** | **¥8,808** | **¥61,656** | 高精度デモ |

**デモ環境なら、使う時だけ起動することで大幅にコスト削減可能！**

---

## 🖥️ オンプレマシン構成比較

### 構成別価格とスペック

| 構成 | 価格 | GPU | VRAM | メモリ | 対応モデル |
|------|------|-----|------|--------|----------|
| **最小構成** | **¥387,000** | RTX 4080 | 16GB | 64GB | 4b◎ / 12b△ |
| **推奨構成** | **¥726,000** | RTX 4090 | 24GB | 128GB | 4b◎ / 12b◎ / 27b○ |
| **高可用性構成** | **¥1,013,000** | RTX 4090 | 24GB | 192GB | 4b◎ / 12b◎ / 27b◎ |

---

## ✨ スペックアップで得られるメリット

### 最小構成 (¥387,000) → 推奨構成 (¥726,000) にアップグレード

**追加投資: +¥339,000**

#### パフォーマンス面

- **gemma3:12bが快適動作**: VRAM使用率90%→60%に低下、安定性向上
- **gemma3:27bが動作可能**: 16GB→24GB VRAMで最高精度モデルに対応
- **同時推論数が1.5-2倍**: 4bで6-8リクエスト→10-12リクエスト
- **レスポンス時間が短縮**: 12bで2-3秒→1-2秒に改善
- **メモリ倍増**: 64GB→128GBでデータベースキャッシュが余裕
- **複数モデル同時稼働**: 4bと12bを同時起動可能、用途別切り替え不要

#### 運用面

- **利用可能人数が増加**: 10人→15人に拡大、組織成長に対応
- **将来のモデル選択が自由**: 精度要件変化にGPU交換不要で対応
- **投資保護**: 追加ハードウェアなしで3年以上使用可能
- **ダウンタイムゼロ**: モデル切り替えが設定変更のみ、再構築不要
- **開発効率向上**: 高速レスポンスでプロンプト調整の試行錯誤が捗る

#### ビジネス面

- **提案品質の柔軟性**: 顧客要件に応じて4b/12b/27bを選択可能
- **競合優位性**: 27bの高精度で差別化、顧客満足度向上
- **拡張性確保**: 新規拠点追加時もハードウェア増設不要
- **ROI向上**: 対応人数増加で1人あたりコストが低下

---

### 📊 4b → 12b でどう変わる？

同じ質問「札幌のエントリ1で2名不足しています」に対する応答の違い:

#### gemma3:4b の応答

```
東京のエントリ1から2名を札幌へ配置転換することを提案します。
配置承認しますか？
```

**特徴**:
- 結論だけ
- 理由なし
- 代替案なし

---

#### gemma3:12b の応答

```
札幌のエントリ1での人員不足を解決するため、以下を提案します。

最適提案: 東京のエントリ1から田中太郎、佐藤花子の2名を札幌へ配置転換

実行理由:
- 東京は現在7名配置で2名余剰
- 田中太郎は札幌業務の経験あり
- 佐藤花子は過去7日間の生産性が平均120%で高パフォーマンス

期待効果:
- 札幌の生産性: +6%向上見込み
- 遅延削減: 約20分短縮
- 品質: 現状維持

代替案:
もし東京からの配置転換が難しい場合、大阪から1名+新規採用1名も検討可能です。

配置承認・配置否認・さらに調整する のいずれかをお選びください。
```

**特徴**:
- **誰を配置するか具体的な人名**を提示
- **なぜその人か理由**を説明（経験、生産性データ）
- **効果を数値**で予測（+6%、-20分）
- **代替案**も用意

---

### 🎯 簡単にまとめると

| 項目 | 4b | 12b |
|------|----|----|
| **応答** | 結論だけ | 根拠付きの詳細説明 |
| **人選** | "2名" | "田中太郎、佐藤花子" |
| **理由** | なし | 経験・生産性データで説明 |
| **効果** | 不明 | +6%、-20分など数値で提示 |
| **代替案** | なし | 複数案を用意 |
| **説得力** | 低い | 高い（上司に説明しやすい） |

**結論**: 4bは「答えだけ」、12bは「根拠と代替案付きの提案書」

---

### 推奨構成 (¥726,000) → 高可用性構成 (¥1,013,000) にアップグレード

**追加投資: +¥287,000**

#### 信頼性面

- **冗長化UPS**: 停電時も安全にシャットダウン、データ損失リスク最小化
- **NASバックアップ**: 16TB RAID1でデータ自動バックアップ、災害対策強化
- **メモリ増強**: 128GB→192GBでシステム全体をメモリキャッシュ化
- **リモート管理**: IP-KVMで遠隔地から完全管理、オンサイト不要
- **24時間監視体制**: Prometheus+Grafanaで異常検知・自動アラート

#### パフォーマンス面

- **gemma3:27bが余裕動作**: VRAM使用率90%→85%、長時間稼働も安定
- **同時推論数が最大**: 27bで4-6リクエスト、ピーク時も快適
- **大量データ処理**: 192GBメモリで大規模RAGデータベース対応
- **10GbE対応**: 高速ネットワークで複数拠点からの同時アクセス高速化

#### 運用面

- **ミッションクリティカル対応**: 金融・医療など高可用性要求に対応
- **複数拠点統合**: 全社システムとして運用可能
- **保守性向上**: リモート管理で障害対応時間を大幅短縮
- **スケーラビリティ**: 将来的なマルチGPU構成への拡張基盤確保

---

## 💡 構成選択ガイド

### 最小構成 (¥387,000) が適しているケース

- トライアル・PoC目的
- gemma3:4b専用で十分
- 利用人数5-10人以下
- 予算制約が厳しい
- 短期間(1年以内)の評価運用

### 推奨構成 (¥726,000) が適しているケース ⭐推奨

- 本番運用を見据えた導入
- モデル選択の柔軟性が必要
- 利用人数10-15人
- 3年以上の長期運用
- **コストパフォーマンス最高**

### 高可用性構成 (¥1,013,000) が適しているケース

- 24時間365日稼働が必須
- ダウンタイム許容度が低い
- 利用人数15人以上
- 複数拠点・全社展開
- 金融・医療など高信頼性要求

---

## 📊 投資対効果 (ROI) 比較

### 1人あたり3年間コスト

| 構成 | 初期投資 | 3年電気代 | 3年TCO | 10人利用 | 15人利用 |
|------|---------|----------|--------|---------|---------|
| **最小構成** | ¥387,000 | ¥350,000 | ¥737,000 | **¥73,700/人** | - |
| **推奨構成** | ¥726,000 | ¥428,000 | ¥1,154,000 | ¥115,400/人 | **¥76,933/人** |
| **高可用性構成** | ¥1,013,000 | ¥506,000 | ¥1,519,000 | ¥151,900/人 | **¥101,267/人** |

**結論**: 推奨構成は15人利用で最小構成10人利用とほぼ同じ1人あたりコスト

---

## 🎯 結論

### 推奨構成 (¥726,000 / RTX 4090) を選ぶべき理由

1. **将来性**: 全モデル対応で3年以上の投資保護
2. **柔軟性**: 要件変化にハードウェア追加不要で対応
3. **パフォーマンス**: 1秒以内のレスポンスで業務効率最大化
4. **拡張性**: 15人まで対応、組織成長に追従
5. **ROI**: 15人利用で1人あたり月額¥2,138、クラウドの1/100以下

**¥339,000の追加投資で、3年間の柔軟性・安心・性能を確保できる最適解**
