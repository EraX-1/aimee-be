# アプリケーション設定
APP_NAME=AIMEE-Backend
APP_VERSION=1.0.0
DEBUG=true
LOG_LEVEL=INFO
ENVIRONMENT=development

# API設定
HOST=0.0.0.0
PORT=8000
API_V1_PREFIX=/api/v1

# データベース設定（aimee-db）
DATABASE_URL=mysql+pymysql://aimee_user:Aimee2024!@mysql:3306/aimee_db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40

# AI/LLM設定（マルチモデル）
OLLAMA_LIGHT_HOST=ollama-light
OLLAMA_LIGHT_PORT=11434
INTENT_MODEL=qwen2:0.5b          # 超軽量意図解析

OLLAMA_MAIN_HOST=ollama-main
OLLAMA_MAIN_PORT=11434
MAIN_MODEL=gemma2:9b    # メイン統合判断（Google Gemma 9Bパラメータ）

# パフォーマンス最適化
OLLAMA_NUM_PARALLEL=4            # 軽量LLM並列数
OLLAMA_CONTEXT_SIZE=2048         # コンテキストサイズ
OLLAMA_BATCH_SIZE=512            # バッチサイズ

# ハイブリッド処理設定
ENABLE_PARALLEL_PROCESSING=true  # 専門エンジン並列実行
HYBRID_TIMEOUT_SECONDS=10        # ハイブリッド処理タイムアウト
STREAMING_RESPONSE=true          # ストリーミング回答
SIMPLE_TASK_THRESHOLD=0.7        # 軽量モデル振り分け閾値

# ChromaDB設定（ナレッジベース）
CHROMADB_HOST=chromadb
CHROMADB_PORT=8000
CHROMADB_AUTH_TOKEN=aimee-chroma-token
CHROMADB_COLLECTION=aimee_knowledge

# Redis設定（高速キャッシュ）
REDIS_URL=redis://redis:6379/0
REDIS_MAX_MEMORY=512mb
REDIS_EVICTION_POLICY=allkeys-lru

# RAG設定
CHUNK_SIZE=512                   # ナレッジチャンクサイズ
TOP_K_RESULTS=5                  # 検索結果数
SIMILARITY_THRESHOLD=0.7         # 類似度閾値
ENABLE_VECTOR_CACHE=true         # ベクトル検索キャッシュ
CACHE_TTL_SECONDS=3600          # キャッシュ有効期間

# セキュリティ設定
SECRET_KEY=your-secret-key-here-change-this-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS設定
CORS_ORIGINS=["http://localhost:3000", "http://localhost:5173"]

# OpenAI API（必要な場合）
OPENAI_API_KEY=